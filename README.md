# Dart è¯­è¨€ç®€æ˜æ•™ç¨‹
**ç¿»è¯‘è‡ª Dart å®˜ç½‘ï¼Œ[æŸ¥çœ‹åŸæ–‡](https://www.dartlang.org/guides/language/language-tour)ã€‚**

è¿™ç¯‡æ–‡ç« å±•ç¤ºå¦‚ä½•ä½¿ç”¨ Dart çš„å„ä¸ªä¸»è¦ç‰¹æ€§ï¼Œä»å˜é‡å’Œè¿ç®—ç¬¦åˆ°ç±»å’Œåº“ï¼Œå¹¶ä¸”å‡å®šä½ å·²ç»ä¼šä½¿ç”¨å…¶ä»–ç¼–ç¨‹è¯­è¨€ç¼–å†™ä»£ç ã€‚
è¦è¯¦ç»†äº†è§£ Dart æ ¸å¿ƒåº“ç›¸å…³å†…å®¹ï¼Œè¯·çœ‹å®˜æ–¹ [A Tour of the Dart Libraries](https://www.dartlang.org/guides/libraries/library-tour)ã€‚å½“ä½ æƒ³å¯¹ä¸€ä¸ªè¯­è¨€ç‰¹æ€§äº†è§£æ›´å¤šï¼Œæ— è®ºä½•æ—¶éƒ½å¯ä»¥æŸ¥é˜…å®˜æ–¹ [Dart Language Specification](https://www.dartlang.org/guides/language/spec)ã€‚

> å°æç¤ºï¼šåœ¨ DartPad ä¸Šï¼Œä½ å¯ä»¥å°è¯•å¤§éƒ¨åˆ† Dart çš„è¯­è¨€ç‰¹æ€§ï¼ˆ[äº†è§£æ›´å¤š](https://www.dartlang.org/tools/dartpad)ï¼‰ã€‚
>
> è½¬åˆ° [DartPatd](https://dartpad.dartlang.org/)

## ç›®å½•
* [ä¸€ä¸ªåŸºæœ¬çš„ Dart ç¨‹åº](#ä¸€ä¸ªåŸºæœ¬çš„-dart-ç¨‹åº)
* [é‡è¦æ¦‚å¿µ](#é‡è¦æ¦‚å¿µ)
* [å…³é”®å­—](#å…³é”®å­—)
* [å˜é‡](#å˜é‡)
  * [é»˜è®¤å€¼](#é»˜è®¤å€¼)
  * [Final å’Œ const](#final-å’Œ-const)
* [å†…ç½®ç±»å‹](#å†…ç½®ç±»å‹)
  * [æ•°å€¼](#æ•°å€¼)
  * [å­—ç¬¦ä¸²](#å­—ç¬¦ä¸²)
  * [å¸ƒå°”](#å¸ƒå°”)
  * [åˆ—è¡¨](#åˆ—è¡¨)
  * [æ˜ å°„](#æ˜ å°„)
  * [ç¬¦æ–‡](#ç¬¦æ–‡)
  * [ç¬¦å·](#ç¬¦å·)
* [å‡½æ•°](#å‡½æ•°)
  * [å¯é€‰å‚æ•°](#å¯é€‰å‚æ•°)
  * [main() å‡½æ•°](#main()-å‡½æ•°)
  * [å‡½æ•°ä½œä¸ºä¸€ç­‰å¯¹è±¡](#å‡½æ•°ä½œä¸ºä¸€ç­‰å¯¹è±¡)
  * [åŒ¿åå‡½æ•°](#åŒ¿åå‡½æ•°)
  * [è¯æ³•ä½œç”¨åŸŸ](#è¯æ³•ä½œç”¨åŸŸ)
  * [è¯æ³•é—­åŒ…](#è¯æ³•é—­åŒ…)
  * [éªŒè¯å‡½æ•°çš„ç›¸ç­‰æ€§](#éªŒè¯å‡½æ•°çš„ç›¸ç­‰æ€§)
  * [è¿”å›å€¼](#è¿”å›å€¼)
* [è¿ç®—ç¬¦](#è¿ç®—ç¬¦)
  * [ç®—æœ¯è¿ç®—ç¬¦](#ç®—æœ¯è¿ç®—ç¬¦)
  * [ç›¸ç­‰å’Œç›¸å…³è¿ç®—ç¬¦](#ç›¸ç­‰å’Œç›¸å…³è¿ç®—ç¬¦)
  * [ç±»å‹æµ‹è¯•è¿ç®—ç¬¦](#ç±»å‹æµ‹è¯•è¿ç®—ç¬¦)
  * [èµ‹å€¼è¿ç®—ç¬¦](#èµ‹å€¼è¿ç®—ç¬¦)
  * [é€»è¾‘è¿ç®—ç¬¦](#é€»è¾‘è¿ç®—ç¬¦)
  * [æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦](#æŒ‰ä½å’Œç§»ä½è¿ç®—ç¬¦)
  * [æ¡ä»¶è¿ç®—ç¬¦](#æ¡ä»¶è¿ç®—ç¬¦)
  * [çº§è”ç¬¦å·](#çº§è”ç¬¦å·)
  * [å…¶ä»–è¿ç®—ç¬¦](#å…¶ä»–è¿ç®—ç¬¦)
* [æ§åˆ¶æµç¨‹è¯­å¥](#æ§åˆ¶æµç¨‹è¯­å¥)
  * [If å’Œ else](#if-å’Œ-else)
  * [For å¾ªç¯](#for-å¾ªç¯)
  * [While å’Œ do-while](#while-å’Œ-do-while)
  * [Break å’Œ continue](#break-å’Œ-continue)
  * [Switch å’Œ case](#switch-å’Œ-case)
  * [Assert](#assert)
* [å¼‚å¸¸](#å¼‚å¸¸)
  * [Throw](#throw)
  * [Catch](#catch)
  * [Finally](#finally)
* [ç±»](#ç±»)
  * [ä½¿ç”¨ç±»æˆå‘˜](#ä½¿ç”¨ç±»æˆå‘˜)
  * [ä½¿ç”¨æ„é€ å‡½æ•°](#ä½¿ç”¨æ„é€ å‡½æ•°)
  * [è·å–å¯¹è±¡ç±»å‹](#è·å–å¯¹è±¡ç±»å‹)
  * [å®ä¾‹å˜é‡](#å®ä¾‹å˜é‡)
  * [æ„é€ å‡½æ•°](#æ„é€ å‡½æ•°)
  * [æ–¹æ³•](#æ–¹æ³•)
  * [æŠ½è±¡ç±»](#æŠ½è±¡ç±»)
  * [éšå¼æ¥å£](#éšå¼æ¥å£)
  * [æ‰©å±•ä¸€ä¸ªç±»](#æ‰©å±•ä¸€ä¸ªç±»)
  * [é‡å†™ç±»æˆå‘˜](#é‡å†™ç±»æˆå‘˜)
  * [å¯æšä¸¾ç±»å‹](#å¯æšä¸¾ç±»å‹)
  * [ä¸ºä¸€ä¸ªç±»æ·»åŠ ç‰¹æ–°ï¼šæ··å…¥](#ä¸ºä¸€ä¸ªç±»æ·»åŠ ç‰¹æ–°ï¼šæ··å…¥)
  * [ç±»å˜é‡å’Œæ–¹æ³•](#ç±»å˜é‡å’Œæ–¹æ³•)
* [æ³›å‹](#æ³›å‹)
  * [ä¸ºä»€ä¹ˆç”¨æ³›å‹ï¼Ÿ](#ä¸ºä»€ä¹ˆç”¨æ³›å‹ï¼Ÿ)
  * [ä½¿ç”¨é›†åˆå­—é¢é‡](#ä½¿ç”¨é›†åˆå­—é¢é‡)
  * [ä½¿ç”¨å¸¦æ„é€ å‡½æ•°çš„å‚æ•°åŒ–ç±»å‹](#ä½¿ç”¨å¸¦æ„é€ å‡½æ•°çš„å‚æ•°åŒ–ç±»å‹)
  * [æ³›å‹é›†åˆå’Œå®ƒä»¬åŒ…å«çš„ç±»å‹](#æ³›å‹é›†åˆå’Œå®ƒä»¬åŒ…å«çš„ç±»å‹)
  * [é™åˆ¶å‚æ•°åŒ–ç±»å‹](#é™åˆ¶å‚æ•°åŒ–ç±»å‹)
  * [ä½¿ç”¨æ³›å‹æ–¹æ³•](#ä½¿ç”¨æ³›å‹æ–¹æ³•)
* [åº“å’Œå¯è§æ€§](#åº“å’Œå¯è§æ€§)
  * [ä½¿ç”¨åº“](#ä½¿ç”¨åº“)
  * [å®ç°åº“](#å®ç°åº“)
* [å¼‚æ­¥æ”¯æŒ](#å¼‚æ­¥æ”¯æŒ)
  * [å¤„ç† Futures](#å¤„ç†-futures)
  * [å£°æ˜å¼‚æ­¥å‡½æ•°](#å£°æ˜å¼‚æ­¥å‡½æ•°)
  * [å¤„ç†æµ](#å¤„ç†æµ)
* [ç”Ÿæˆå™¨](#ç”Ÿæˆå™¨)
* [å¯è°ƒç”¨çš„ç±»](#å¯è°ƒç”¨çš„ç±»)
* [Isolates](#lsolates)
* [ç±»å‹å®šä¹‰](#ç±»å‹å®šä¹‰)
* [å…ƒæ•°æ®](#å…ƒæ•°æ®)
* [æ³¨é‡Š](#æ³¨é‡Š)
  * [å•è¡Œæ³¨é‡Š](#å•è¡Œæ³¨é‡Š)
  * [å¤šè¡Œæ³¨é‡Š](#å¤šè¡Œæ³¨é‡Š)
  * [æ–‡æ¡£æ³¨é‡Š](#æ–‡æ¡£æ³¨é‡Š)
* [æ€»ç»“](#æ€»ç»“)

## ä¸€ä¸ªåŸºæœ¬çš„ Dart ç¨‹åº
ä¸‹é¢çš„ä»£ç ä½¿ç”¨äº†è®¸å¤š Dart çš„åŸºæœ¬ç‰¹æ€§ï¼š
```Dart
// å®šä¹‰å‡½æ•°
printInteger(int aNumber) {
  print('The number is $aNumber.'); // æ‰“å°åˆ°æ§åˆ¶å°
}

// è¿™é‡Œæ˜¯ç¨‹åºå¼€å§‹æ‰§è¡Œçš„åœ°æ–¹
main() {
  var number = 42; // å®šä¹‰å¹¶åˆå§‹åŒ–å˜é‡
  printInteger(number); // è°ƒç”¨å‡½æ•°
}
```
ä¸‹é¢æ˜¯è¿™ä¸ªç¨‹åºä½¿ç”¨çš„å¯é€‚ç”¨äºæ‰€æœ‰ (almost) Dart åº”ç”¨çš„ç‰¹æ€§ï¼š

```Dart
// è¿™æ˜¯ä¸€ä¸ªå•è¡Œæ³¨é‡Š
```
ä¸€ä¸ªå•è¡Œæ³¨é‡Šã€‚Dart ä¹Ÿæ”¯æŒå¤šè¡Œå’Œæ–‡æ¡£æ³¨é‡Šã€‚è¯¦æƒ…è¯·çœ‹ [æ³¨é‡Š](#)ã€‚

```dart
int
```
ä¸€ä¸ªç±»å‹ã€‚å…¶ä»–çš„ä¸€äº› [åŸºæœ¬ç±»å‹](#) åŒ…æ‹¬**å­—ç¬¦ä¸²**ã€**List** å’Œ**å¸ƒå°”**ã€‚

```Dart
42
```
ä¸€ä¸ªæ•°å€¼å­—é¢é‡ã€‚æ•°å€¼å­—é¢é‡æ˜¯ä¸€ç§ç¼–è¯‘æœŸå¸¸é‡ã€‚

```Dart
print()
```
ä¸€ç§å±•ç¤ºè¾“å‡ºçš„æ–¹ä¾¿æ–¹å¼ã€‚

```Dart
'...' (or "...")
```
ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ã€‚

```Dart
$variableName (or ${expression})
```
å­—ç¬¦ä¸²æ’å€¼ï¼šæ’å…¥ä¸€ä¸ªå˜é‡æˆ–è€…è¡¨è¾¾å¼çš„å­—ç¬¦ä¸²å€¼åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡é‡Œã€‚è¯¦æƒ…è¯·çœ‹ [å­—ç¬¦ä¸²](#)ã€‚

```Dart
main()
```
åº”ç”¨å¼€å§‹æ‰§è¡Œçš„ç‰¹å®šçš„ã€å¿…é¡»çš„ã€é¡¶çº§çš„å‡½æ•°ã€‚è¯¦æƒ…è¯·çœ‹ [main() å‡½æ•°](#)ã€‚

```Dart
var
```
ä¸€ç§å£°æ˜å˜é‡ä½†æ˜¯ä¸æŒ‡å®šç±»å‹çš„æ–¹æ³•ã€‚

> æç¤ºï¼šæœ¬ç¯‡æ–‡ç« çš„ä»£ç éµä» [Dart style guide](https://www.dartlang.org/guides/language/effective-dart/style) ä¸­çš„å…¬çº¦ã€‚

## é‡è¦æ¦‚å¿µ
å½“ä½ å­¦ä¹  Dart è¯­è¨€çš„æ—¶å€™ï¼Œè¯·è®°ä½è¿™äº›äº‹å®å’Œæ¦‚å¿µï¼š
* æ‰€æœ‰å¯ä»¥æ”¾åœ¨ä¸€ä¸ªå˜é‡é‡Œé¢çš„ä¸œè¥¿éƒ½æ˜¯*å¯¹è±¡*ï¼Œè€Œä¸”æ‰€æœ‰å¯¹è±¡éƒ½æ˜¯*ç±»*çš„å®ä¾‹ã€‚æ¯ä¸€ä¸ªæ•°å€¼ã€å‡½æ•°å’Œ **null** éƒ½æ˜¯å¯¹è±¡ã€‚æ‰€æœ‰çš„å¯¹è±¡éƒ½ç»§æ‰¿è‡ª [Object](#) ç±»ã€‚
* å°½ç®¡ Dart æ˜¯å¼ºç±»å‹çš„ï¼Œä½† Dart å¯ä»¥æ¨æ–­ç±»å‹æ‰€ä»¥ç±»å‹å£°æ˜æ˜¯å¯é€‰çš„ã€‚åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ**number**è¢«æ¨æ–­ä¸ºç±»å‹  **int**ã€‚å½“ä½ æƒ³è¦æ˜¾å¼å£°æ˜æ²¡æœ‰é¢„æœŸç±»å‹æ—¶ï¼Œ**ä½¿ç”¨ç‰¹æ®Šçš„ dynamic ç±»å‹**ã€‚
* Dart æ”¯æŒæ³›å‹ï¼Œåƒæ˜¯ **List&lt;int&gt;**ï¼ˆåŒ…å«æ•´æ•°çš„åˆ—è¡¨ï¼‰æˆ–è€… **List&lt;dynamic&gt;**ï¼ˆä¸€ä¸ªåŒ…å«ä»»æ„ç±»å‹å¯¹è±¡çš„åˆ—è¡¨ï¼‰ã€‚
* é™¤äº†ç»‘å®šåœ¨ç±»å’Œå¯¹è±¡ä¸Šçš„å‡½æ•°ï¼ˆåˆ†åˆ«ä¸ºé™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼‰ä»¥å¤–ï¼ŒDart è¿˜æ”¯æŒé¡¶çº§å‡½æ•°ï¼ˆåƒæ˜¯ **main()**)ã€‚ä½ è¿˜å¯ä»¥åœ¨å‡½æ•°ä¸­åˆ›å»ºå‡½æ•°ï¼ˆåµŒå¥—å‡½æ•°æˆ–å±€éƒ¨å‡½æ•°ï¼‰ã€‚
* ä¸åƒ Javaï¼ŒDart æ²¡æœ‰è¿™äº›å…³é”®å­—ï¼š**pubilc**ï¼Œ**protected**ï¼Œ**private**ã€‚å¦‚æœä¸€ä¸ªæ ‡è¯†ç¬¦ä»¥ä¸‹åˆ’çº¿ (\_) å¼€å¤´ï¼Œé‚£ä¹ˆå¯¹äºå®ƒçš„åº“æ¥è¯´æ˜¯ç§æœ‰çš„ã€‚è¯¦æƒ…è¯·çœ‹ [åº“å’Œå¯è§æ€§](#)ã€‚
* æ ‡è¯†ç¬¦å¯ä»¥ä»¥ä¸‹åˆ’çº¿ (\_) å¼€å¤´ï¼Œåè§è·Ÿä¸Šä»»æ„å­—æ¯å’Œæ•°å­—çš„ç»„åˆã€‚
* æœ‰æ—¶å€™*è¡¨è¾¾å¼*å’Œ*è¯­å¥*ä¼šæœ‰æ˜æ˜¾çš„åŒºåˆ«ï¼Œæ‰€ä»¥å¼„æ¸…æ¥šå®ƒä»¬çš„ç¡®åˆ‡å«ä¹‰ä¼šå¾ˆæœ‰å¸®åŠ©ã€‚
* Dart ç›¸å…³å·¥å…·ä¼šæŠ¥å‘Šä¸¤ç§ç±»å‹çš„é—®é¢˜ï¼šè­¦å‘Šå’Œé”™è¯¯ã€‚è­¦å‘Šåªæ˜¯è¡¨æ˜ä½ çš„ä»£ç å¯èƒ½æ— æ³•æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯å¹¶ä¸ä¼šç¦æ­¢ä½ æ‰§è¡Œç¨‹åºã€‚é”™è¯¯å¯ä»¥æ˜¯ç¼–è¯‘æœŸæˆ–è€…è¿è¡ŒæœŸçš„ã€‚ä¸€ä¸ªç¼–è¯‘æœŸé”™è¯¯å®Œå…¨ç¦æ­¢ç¨‹åºçš„æ‰§è¡Œï¼›è€Œè¿è¡ŒæœŸé”™è¯¯ä¼šåœ¨ä»£ç æ‰§è¡Œåˆ°è¿™é‡Œæ—¶æŠ›å‡ºä¸€ä¸ª [å¼‚å¸¸](#)ã€‚

## å…³é”®å­—
ä¸‹é¢çš„è¡¨æ ¼åˆ—å‡ºäº† Dart è¯­è¨€ç‰¹æ®Šå¯¹å¾…çš„å…³é”®å­—ã€‚

| abstract <sup>1</sup> | do | import <sup>1</sup> | super |
| ------------ | ---- | ---- | ---- |
| as <sup>1</sup> | dynamic <sup>1</sup> | in | switch |
| assert | else | interface <sup>1</sup> | sync* <sup>2</sup> |
| async <sup>2</sup> | enum | is | this |
| async* <sup>2</sup> | export <sup>1</sup> | library <sup>1</sup> | throw |
| await <sup>2</sup> | external <sup>1</sup> | mixin <sup>1</sup> | true |
| break | extends | new | try |
| case | factory <sup>1</sup> | null | typedef <sup>1</sup> |
| catch | false | operator <sup>1</sup> | var |
| class | final | part <sup>1</sup> | void |
| const | finally | rethrow | while |
| continue | for | return | with |
| covariant <sup>1</sup> | get <sup>1</sup> | set <sup>1</sup> | yield <sup>2</sup> |
| default | if | static <sup>1</sup> | yield <sup>2</sup> |
| deferred <sup>1</sup> | implements <sup>1</sup> |      |      |

<sup>1</sup> å¸¦è§’æ ‡1çš„å•è¯ä¸º**å†…ç½®æ ‡è¯†ç¬¦**ã€‚ä¸è¦ä½¿ç”¨å†…ç½®æ ‡è¯†ç¬¦ä½œä¸ºæ ‡è¯†ç¬¦ã€‚å¦‚æœä½ ä½¿ç”¨å†…ç½®æ ‡è¯†ç¬¦ä½œä¸ºç±»åæˆ–è€…ç±»å‹åï¼Œä¼šå¼•å‘ä¸€ä¸ªç¼–è¯‘æœŸé”™è¯¯ã€‚

<sup>2</sup> å¸¦è§’æ ‡2çš„å•è¯æ˜¯æ–°çš„ï¼Œåœ¨ Dart çš„1.0ç‰ˆæœ¬å‘å¸ƒä¹‹åä½œä¸º**å¼‚æ­¥**æ”¯æŒåŠ å…¥çš„æœ‰é™ä¿ç•™è¯ã€‚åœ¨ä»¥ **async**ã€**async\*** æˆ– **yield** æ ‡è¯†çš„å‡½æ•°ä½“ä¸­ï¼Œä½ ä¸èƒ½ä½¿ç”¨ **async**ã€**await** æˆ–è€… **yield** ä½œä¸ºæ ‡è¯†ç¬¦ã€‚è¯¦æƒ…è¯·çœ‹ [å¼‚æ­¥æ”¯æŒ](#)ã€‚

å…³é”®è¯è¡¨é‡Œçš„å…¶ä»–æ‰€æœ‰å•è¯éƒ½æ˜¯**ä¿ç•™è¯**ã€‚ä½ ä¸èƒ½ä½¿ç”¨å®ƒä»¬ä½œä¸ºæ ‡è¯†ç¬¦ã€‚



## å˜é‡

è¿™é‡Œæ˜¯åˆ›å»ºå¹¶åˆå§‹åŒ–ä¸€ä¸ªå˜é‡çš„ä¾‹å­ï¼š

```Dart
var name = 'Bob';
```

å˜é‡ä¿å­˜çš„æ˜¯å¼•ç”¨ã€‚åå­—æ˜¯ **name** çš„å˜é‡åŒ…å«ä¸€ä¸ªæŒ‡å‘å€¼ä¸º "Bob" çš„**å­—ç¬¦ä¸²**å¯¹è±¡çš„å¼•ç”¨ã€‚

åå­—ä¸º **name** çš„å˜é‡ç±»å‹è¢«æ¨æ–­ä¸º **String**ï¼Œä½†æ˜¯ä½ å¯ä»¥é€šè¿‡æ˜¾ç¤ºæŒ‡å®šç±»å‹æ¥æ”¹å˜è¿™ä¸ªè¡Œä¸ºã€‚å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸é™åˆ¶ä¸ºä¸€ä¸ªå•ä¸€çš„ç±»å‹ï¼ŒæŒ‡å®šå®ƒä¸º **Object** æˆ– **dynamic** ç±»å‹ã€‚

```dart
dynamic name = 'Bob';
```

å¦ä¸€ä¸ªé€‰é¡¹æ˜¯æ˜¾å¼æŒ‡å®šç±»å‹ä¸ºå®ƒå°†ä¼šè¢«æ¨æ–­çš„ç±»å‹ï¼š

```dart
String name = 'Bob';
```

> æç¤ºï¼šå¯¹äºå±€éƒ¨å˜é‡ï¼Œæœ¬ç¯‡æ–‡ç« éµå®ˆ [ä»£ç é£æ ¼æ¨è](https://www.dartlang.org/guides/language/effective-dart/design#types) ä½¿ç”¨ varï¼Œè€Œä¸æ˜¯ç±»å‹å£°æ˜ã€‚

### é»˜è®¤å€¼

æœªåˆå§‹è¯çš„å˜é‡æœ‰ä¸€ä¸ªåˆå§‹å€¼ **null**ã€‚å³ä½¿æ˜¯æ•°å€¼ç±»å‹çš„å˜é‡åˆå§‹å€¼ä¹Ÿæ˜¯ nullï¼Œå› ä¸ºæ•°å€¼â€”â€”å’Œ Dart ä¸­å…¶ä»–æ‰€æœ‰ç±»å‹ä¸€æ ·â€”â€”éƒ½æ˜¯å¯¹è±¡ã€‚

```dart
int lineCount;
assert(lineCount == null);
```

> æç¤ºï¼šä»£ç ä¸­çš„**assert()**è°ƒç”¨ã€‚åœ¨å¼€å‘æ—¶ï¼Œ**assert(*condition*)** ä¼šæŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œé™¤é *condition* çš„ç»“æœæ˜¯ trueã€‚è¯¦æƒ…è¯·çœ‹ [Assert](#)ã€‚

### Final å’Œ const

å¦‚æœä½ ä»ä¸æ‰“ç®—æ”¹å˜ä¸€ä¸ªå˜é‡ï¼Œä½¿ç”¨ **final** å’Œ **const**ï¼Œè€Œä¸æ˜¯ **var** æˆ–è€…ä¸€ä¸ªç±»å‹åã€‚ä¸€ä¸ª final å˜é‡åªå¯ä»¥è¢«è®¾ç½®ä¸€æ¬¡ï¼›ä¸€ä¸ª const å˜é‡æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚ï¼ˆConst å˜é‡æ˜¯æ˜¾å¼ final çš„ã€‚ï¼‰ä¸€ä¸ª final çš„é¡¶çº§å˜é‡æˆ–è€…ç±»å˜é‡åœ¨é¦–æ¬¡è¢«ä½¿ç”¨æ—¶åˆå§‹åŒ–ã€‚

> æç¤ºï¼šå®ä¾‹å˜é‡åªå¯ä»¥æ˜¯ final çš„ï¼Œä¸å¯ä»¥æ˜¯ const çš„ã€‚

è¿™é‡Œæ˜¯åˆ›å»ºå¹¶è®¾ç½®ä¸€ä¸ª final å˜é‡çš„ä¾‹å­ï¼š

```dart
final name = 'Bob'; // æ²¡æœ‰ç±»å‹å£°æ˜
final String nickname = 'Boddy';
```

ä½ ä¸å¯ä»¥æ”¹å˜ä¸€ä¸ª final å˜é‡çš„å€¼ï¼š

```dart
name = 'Alice'; // é”™è¯¯ï¼šä¸€ä¸ªfinalå˜é‡åªå¯ä»¥è¢«è®¾ç½®ä¸€æ¬¡
```

å¯¹é‚£äº›ä½ æƒ³è¦ä½œä¸º**ç¼–è¯‘æœŸå¸¸é‡**çš„å˜é‡ä½¿ç”¨ **const**ã€‚å¦‚æœè¿™ä¸ª const å˜é‡æ˜¯ç±»çº§åˆ«çš„ï¼Œä½¿ç”¨ **static const** æ ‡è¯†å®ƒã€‚åœ¨ä½ å£°æ˜çš„åœ°æ–¹ï¼Œè®¾ç½®å˜é‡çš„å€¼ä¸ºç¼–è¯‘å™¨å¸¸é‡æ¯”å¦‚æ•°å­—æˆ–å­—ç¬¦ä¸²å­—é¢é‡ã€å¦ä¸€ä¸ªå¸¸é‡æˆ–è€…å¸¸é‡æ•°å€¼çš„ç®—æœ¯è¿ç®—ç»“æœã€‚

```dart
const bar = 1000000; // å‹åŠ›å•ä½ï¼ˆè¾¾å› /cm2ï¼‰
const double atm = 1.01325 * bar; // æ ‡å‡†å¤§æ°”å‹
```

**Const** å…³é”®å­—ä¸ä»…å¯ä»¥å£°æ˜å¸¸é‡ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨å®ƒåˆ›å»ºå¸¸é‡å€¼ï¼Œä¹Ÿå¯ä»¥å£°æ˜åˆ›å»ºå¸¸é‡å€¼çš„æ„é€ å‡½æ•°ã€‚ä»»ä½•å˜é‡éƒ½å¯ä»¥æ‹¥æœ‰ä¸€ä¸ªå¸¸é‡å€¼ã€‚

```dart
var foo = const [];
final bar = const [];
const baz = []; // ç­‰åŒäº `const []`
```

ä½ å¯ä»¥å¿½ç•¥å¸¸é‡å£°æ˜ä¸­åˆå§‹åŒ–è¡¨è¾¾å¼ä¸­çš„ **const**ï¼Œåƒä¸Šé¢çš„ **baz** ä¸€æ ·ã€‚è¯¦æƒ…è¯·çœ‹ [ä¸è¦é‡å¤ä½¿ç”¨ const](https://www.dartlang.org/guides/language/effective-dart/usage#dont-use-const-redundantly)ã€‚

ä½ å¯ä»¥æ”¹å˜ä¸€ä¸ªé final ä¸”é const å˜é‡çš„å€¼ï¼Œå³ä½¿å®ƒæœ‰ä¸€ä¸ªå¸¸é‡å€¼ã€‚

```dart
foo = [1, 2, 3]; // ä¹‹å‰æ˜¯ const []
```

ä½ ä¸å¯ä»¥æ”¹å˜ä¸€ä¸ªå¸¸é‡çš„å€¼ï¼š

```dart
baz = [42]; // é”™è¯¯ï¼šå¸¸é‡ä¸å¯ä»¥è¢«èµ‹å€¼
```

è¦äº†è§£æ›´å¤šä½¿ç”¨ **const** åˆ›å»ºå¸¸é‡å€¼çš„å†…å®¹ï¼Œè¯·çœ‹ [List](#)ã€[Map](#) å’Œ[ç±»](#)ã€‚

## å†…ç½®ç±»å‹

Dart è¯­è¨€å¯¹ä»¥ä¸‹ç±»å‹æœ‰ç‰¹æ®Šçš„æ”¯æŒï¼š

* numbersï¼ˆæ•°å€¼ï¼‰
* stringsï¼ˆå­—ç¬¦ä¸²ï¼‰
* booleansï¼ˆå¸ƒå°”ï¼‰
* lists (ä¹Ÿç§°ä¸º *arrays*)
* maps
* runes (åœ¨å­—ç¬¦ä¸²ä¸­è¡¨ç¤ºä¸€ä¸ªUnicodeå­—ç¬¦)
* symbols

ä½ å¯ä»¥ä½¿ç”¨å­—é¢é‡åˆå§‹åŒ–ä»¥ä¸Šä»»æ„ç±»å‹ã€‚æ¯”å¦‚ï¼Œ**'this is a string'** å°±æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²å­—é¢é‡ï¼Œè€Œ **true** æ˜¯ä¸€ä¸ªbooleanå­—é¢é‡ã€‚

ç”±äº Dart ä¸­çš„æ‰€æœ‰å˜é‡éƒ½æ˜¯å¯¹è±¡çš„å¼•ç”¨â€”â€”ä¸€ä¸ªç±»çš„å®ä¾‹â€”â€”æ‰€æœ‰ä½ é€šå¸¸å¯ä»¥ä½¿ç”¨*æ„é€ å‡½æ•°*æ¥åˆå§‹åŒ–å˜é‡ã€‚æŸäº›å†…ç½®ç±»å‹æœ‰å®ƒä»¬è‡ªå·±çš„æ„é€ å‡½æ•°ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ **Map()** æ„é€ å‡½æ•°åˆ›å»ºä¸€ä¸ª mapã€‚

### æ•°å€¼

Dart ä¸­çš„æ•°å€¼æœ‰ä¸¤ç§ç±»å‹ï¼š

#### int

å°äºç­‰äº64ä½çš„æ•´æ•°å€¼ï¼Œå®é™…é•¿åº¦ä¾èµ–è¿è¡Œå¹³å°ã€‚åœ¨ Dart è™šæ‹Ÿæœºä¸Šï¼Œå¯ä»¥æ˜¯ -2<sup>63</sup> åˆ° 2<sup>63</sup> æ¬¡æ–¹ -1ã€‚ç¼–è¯‘åˆ° JavaScript çš„ Dart ä½¿ç”¨[JavaScriptçš„æ•°å€¼](https://stackoverflow.com/questions/2802957/number-of-bits-in-javascript-numbers/2803010#2803010)ï¼Œå…è®¸ä» -2<sup>53</sup> åˆ° 2<sup>53</sup> - 1çš„å€¼ã€‚

#### double

64ä½ï¼ˆåŒç²¾åº¦ï¼‰æµ®ç‚¹æ•°å€¼ï¼Œå¦‚ IEE 754 æ ‡å‡†ä¸­æ‰€è§„å®šçš„ã€‚

**Int** å’Œ **double** éƒ½æ˜¯ [num](https://api.dartlang.org/dev/dart-core/num-class.html) çš„å­ç±»ã€‚Num ç±»å‹åŒ…å«åƒ +ï¼Œ-ï¼Œ/ å’Œ * è¿™æ ·çš„åŸºæœ¬è¿ç®—ç¬¦ï¼Œä¹Ÿæ˜¯ **abs()**ã€**ceil()** å’Œ **floor()** é€‚ç”¨çš„ç±»å‹ã€‚ï¼ˆåƒ &gt;&gt; çš„ä½è¿ç®—ç¬¦å®šä¹‰åœ¨ int ç±»ä¸­ã€‚ï¼‰å¦‚æœä½ ä» num å’Œå®ƒçš„å­ç±»ä¸­æ‰¾ä¸åˆ°ä½ æƒ³è¦çš„ï¼Œè¯•ç€çœ‹çœ‹ [dart:math](https://api.dartlang.org/dev/dart-math) åº“ã€‚

æ•´æ•°æ˜¯æ²¡æœ‰å°æ•°ç‚¹çš„æ•°å­—ã€‚ä¸‹é¢æ˜¯ä¸€äº›å®šä¹‰æ•´æ•°å­—é¢é‡çš„ä¾‹å­ï¼š

```dart
int x = 1;
int hex = 0xDEADBEEF;
```

å¦‚æœä¸€ä¸ªæ•°å­—åŒ…å«å°æ•°ç‚¹ï¼Œé‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ã€‚ä¸‹é¢æ˜¯ä¸€äº›å®šä¹‰æµ®ç‚¹æ•°å­—é¢é‡çš„ä¾‹å­ï¼š

```dart
double y = 1.1;
double exponents = 1.42e5;
```

ä¸‹é¢æ˜¯ä¸€äº›æ•°å€¼å’Œå­—ç¬¦ä¸²äº’ç›¸è½¬æ¢çš„ä¾‹å­ï¼š

```dart
// String -> int
var one = int.parse('1');
assert(one == 1);

// String -> double
var onePointOne = double.parse('1.1');
assert(onePointOne == 1.1);

// int -> String
String oneAsString = 1.toString();
assert(oneSAsString == '1');

// double -> String
String piAsString = 3.14159.toStringAsFixed(2);
assert(piAsString == '3.14');
```

æ•´æ•°ç±»å‹æ”¯æŒä¼ ç»Ÿçš„ä½è¿ç®—ç¬¦ï¼Œæ¯”å¦‚ç§»ä½ (&lt;&lt;, &gt;&gt;) ã€æŒ‰ä½ä¸ (&) å’ŒæŒ‰ä½æˆ– (|)ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```dart
assert((3 << 1) == 6); // 0011 << 1 == 0110
assert((3 >> 1) == 1); // 0011 >> 1 == 0001
assert((3 | 4) == 7); // 0011 | 0100 == 0111
```

ä»¥å­—é¢é‡å®šä¹‰çš„æ•°å€¼æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚è®¸å¤šç®—æœ¯è¡¨è¾¾å¼ä¹ŸåŒæ ·æ˜¯ç¼–è¯‘å™¨å¸¸é‡ï¼Œåªè¦å®ƒä»¬çš„æ“ä½œæ•°æ˜¯ç¼–è¯‘æœŸå¸¸æ•°ä¸”æœ€åå¾—åˆ°ä¸€ä¸ªæ•°å€¼ã€‚

```dart
const msPerSecond = 1000;
const secondsUntilRetry = 5;
const msUntilRetry = secondsUntilRetry * msPerSecond;
```

### å­—ç¬¦ä¸²

Dart çš„å­—ç¬¦ä¸²æ˜¯ä»¥ UTF-16 ç¼–ç å•å…ƒç»„æˆçš„åºåˆ—ã€‚ä½ å¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·æ¥åˆ›å»ºå­—ç¬¦ä¸²ï¼š

```dart
var s1 = 'Single quotes work well for string literals.';
var s2 = "Double quotes work just as well.";
var s3 = 'It\'s easy to escape the string delimiter.';
var s4 = "It's even easier to use the other delimiter.";
```

ä½ å¯ä»¥ä½¿ç”¨ **${*expression*}** å°†ä¸€ä¸ªè¡¨è¾¾å¼æ’å…¥åˆ°å­—ç¬¦ä¸²ä¸­ã€‚å¦‚æœè¿™ä¸ªè¡¨è¾¾å¼æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œä½ å¯ä»¥çœç•¥ {}ã€‚ä¸ºäº†å¾—åˆ°ä¸€ä¸ªå¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºï¼ŒDart ä¼šè°ƒç”¨å¯¹è±¡çš„ **toString()** æ–¹æ³•ã€‚

```dart
var s = 'string interpolation';

assert('Dart has $s, which is very handy.' ==
    'Dart has string interpolation, ' +
        'which is very handy.');
assert('That deserves all caps. ' +
        '${s.toUpperCase()} is very handy!' ==
    'That deserves all caps. ' +
        'STRING INTERPOLATION is very handy!');
```

> æç¤ºï¼š== è¿ç®—ç¬¦æµ‹è¯•ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰ã€‚ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰çš„æ¡ä»¶æ˜¯å®ƒä»¬åŒ…å«åŒæ ·çš„ç¼–ç å•ä½åºåˆ—

ä½ å¯ä»¥é€šè¿‡å¹¶æ’å­—ç¬¦ä¸²å­—é¢é‡æˆ–è€…ä½¿ç”¨ **+** è¿ç®—ç¬¦æ¥ä¸²è”å­—ç¬¦ä¸²ï¼š

```dart
var s1 = 'String '
    'concatenation'
    " works even over line breaks.";
assert(s1 ==
    'String concatenation works even over '
    'line breaks.');

var s2 = 'The + operator ' + 'works, as well.';
assert(s2 == 'The + operator works, as well.');
```

å¦ä¸€ç§æ–¹å¼æ˜¯åˆ›å»ºä¸€ä¸ªå¤šè¡Œå­—ç¬¦ä¸²ï¼šä½¿ç”¨ä¸‰ä¸ªå¼•å·ï¼ˆå•å¼•å·æˆ–åŒå¼•å·ï¼‰æ¥æ ‡è®°ï¼š

```dart
var s1 = '''
You can create
multi-line strings like this one.
''';

var s2 = """This is also a
multi-line string.""";
```

ä½ å¯ä»¥é€šè¿‡ **r** å‰ç¼€æ¥åˆ›å»ºä¸€ä¸ªâ€åŸå§‹çš„â€œå­—ç¬¦ä¸²ï¼š

```dart
var s = r"In a raw string, even \n isn't special.";
```

è¦è¯¦ç»†äº†è§£ Unicode å­—ç¬¦åœ¨å­—ç¬¦ä¸²ä¸­æ˜¯æ€æ ·è¡¨ç¤ºçš„ï¼Œè¯·çœ‹ [ç¬¦æ–‡](#)ã€‚

åªè¦æ‰€æœ‰æ’å€¼è¡¨è¾¾å¼æ˜¯ç¼–è¯‘æœŸå¸¸é‡ï¼Œå¯ä»¥è®¡ç®—å‡º null æˆ–è€… æ•°å€¼ã€å­—ç¬¦ä¸²ã€å¸ƒå°”å€¼ï¼Œé‚£ä¹ˆè¿™ä¸ªå­—é¢é‡çš„å­—ç¬¦ä¸²å°±æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚

```dart
// å¯ä½œä¸ºå¸¸é‡å­—ç¬¦ä¸²çš„ç»„æˆéƒ¨åˆ†
const aConstNum = 0;
const aConstBool = true;
const aConstString = 'a constant string';

// ä¸å¯ä½œä¸ºå¸¸é‡å­—ç¬¦ä¸²çš„ç»„æˆéƒ¨åˆ†
var aNum = 0;
var aBool = true;
var aString = 'a string';
const aConstList = [1, 2, 3];

const validConstString = '$aConstNum $aConstBool $aConstString';
// const invalidConstString = '$aNum $aBool $aString $aConstList';
```

è¦äº†è§£æ›´å¤šä½¿ç”¨å­—ç¬¦ä¸²çš„ä¿¡æ¯ï¼Œè¯·çœ‹ [å­—ç¬¦ä¸²å’Œæ­£åˆ™è¡¨è¾¾å¼](#)ã€‚

### å¸ƒå°”

ä¸ºäº†è¡¨ç¤ºå¸ƒå°”å€¼ï¼ŒDart å†…ç½®äº†ä¸€ä¸ªåå­—ä¸º **bool** çš„ç±»å‹ã€‚åªæœ‰ä¸¤ä¸ªå¯¹è±¡æ‹¥æœ‰å¸ƒå°”ç±»å‹ï¼šå¸ƒå°”å­—é¢é‡ **true** å’Œ **false**ï¼Œå®ƒä»¬ä¸¤ä¸ªéƒ½æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚

Dart çš„ç±»å‹å®‰å…¨æ„å‘³ç€ä½ ä¸èƒ½ä½¿ç”¨åƒ **if (*nonbooleanValue*)** è¿™æ ·çš„ä»£ç ã€‚å–è€Œä»£ä¹‹ï¼Œä½ éœ€è¦æ˜ç¡®åœ°æ£€æŸ¥å€¼ï¼Œåƒæ˜¯ï¼š

```dart
// æ£€æŸ¥æ˜¯å¦æ˜¯ç©ºå­—ç¬¦ä¸²
var fullName = '';
assert(fullName.isEmpty);

// æ£€æŸ¥æ˜¯å¦ä¸º0
var hitPoints = 0;
assert(hitPoints <= 0);

// æ£€æŸ¥æ˜¯å¦ä¸ºç©º
var unicorn;
assert(unicorn == null);

// æ£€æŸ¥æ˜¯å¦æ˜¯NaN
var iMeantToDoThis = 0 / 0;
assert(iMeantToDoThis.isNaN);
```

### åˆ—è¡¨

â€œæ•°ç»„â€æˆ–è€…æœ‰åºçš„å¯¹è±¡ç»„ï¼Œä¹Ÿè®¸æ˜¯å¤§éƒ¨åˆ†ç¼–ç¨‹è¯­è¨€ä¸­æœ€å¸¸ç”¨çš„é›†åˆç±»å‹äº†ã€‚åœ¨ Dart ä¸­ï¼Œæ•°ç»„æ˜¯ç±»å‹ä¸º [List](https://api.dartlang.org/dev/dart-core/List-class.html) çš„å¯¹è±¡ï¼Œæ‰€ä»¥äººä»¬é€šå¸¸ç§°ä¹‹ä¸ºâ€œåˆ—è¡¨â€ã€‚

Dart çš„åˆ—è¡¨å­—é¢é‡çœ‹èµ·æ¥å°±åƒ JavaScript çš„æ•°ç»„å­—é¢é‡ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ Dart åˆ—è¡¨ï¼š

```dart
var list = [1, 2, 3];
```

> æç¤ºï¼šåˆ†æå™¨æ¨æ–­ä¸Šé¢çš„ **list** ç±»å‹æ˜¯ **List&lt;int&gt;**ã€‚å¦‚æœä½ è¯•å›¾æ·»åŠ ä¸€ä¸ªéæ•´æ•°å€¼å¯¹è±¡åˆ°è¿™ä¸ªåˆ—è¡¨ä¸­ï¼Œåˆ†æå™¨æˆ–è€…è¿è¡Œæ—¶ä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ã€‚è¦äº†è§£è¯¦ç»†ä¿¡æ¯ï¼Œè¯·çœ‹ [ç±»å‹æ¨æ–­](https://www.dartlang.org/guides/language/sound-dart#type-inference)ã€‚

åˆ—è¡¨ä½¿ç”¨åŸºäº0çš„ç´¢å¼•ï¼Œä¹Ÿå°±æ˜¯è¯´ 0 æ˜¯åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œè€Œ **list.length - 1** æ˜¯æœ€åä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚ä½ å¯ä»¥åƒ JavaScript ä¸€æ ·è·å– list çš„é•¿åº¦å’Œå®ƒçš„å…ƒç´ ï¼š

```dart
var list = [1, 2, 3];
assert(list.length == 3);
assert(list[1] == 2);

list[1] = 1;
assert(list[1] == 1);
```

è¦åˆ›å»ºä¸€ä¸ªä½œä¸ºç¼–è¯‘æœŸå¸¸é‡çš„åˆ—è¡¨ï¼Œåœ¨åˆ—è¡¨å­—é¢é‡å‰åŠ ä¸Š **const**ï¼š

```dart
var constantList = const [1, 2, 3];
// constantList[1] = 1; // è¿™ä¸€è¡Œä¼šå¼•å‘ä¸€ä¸ªé”™è¯¯
```

åˆ—è¡¨ç±»å‹æœ‰è®¸å¤šæ–¹ä¾¿çš„æ–¹æ³•å¯ä»¥ç”¨æ¥æ“ä½œåˆ—è¡¨ã€‚è¦äº†è§£æ›´å¤šå†…å®¹ï¼Œè¯·çœ‹ [æ³›å‹](#) å’Œ [é›†åˆ](#)ã€‚

### æ˜ å°„

é€šå¸¸æ¥è¯´ï¼Œæ˜ å°„æ˜¯ä¸€ä¸ªå…³è”äº†é”®å’Œå€¼çš„å¯¹è±¡ã€‚é”®å’Œå€¼éƒ½å¯ä»¥æ˜¯ä»»æ„ç±»å‹çš„å¯¹è±¡ã€‚*é”®*æ˜¯å”¯ä¸€çš„ï¼Œä½†æ˜¯ä½ å¯ä»¥å¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„*å€¼*ã€‚Dart é€šè¿‡æ˜ å°„å­—é¢é‡å’Œ [Map](https://api.dartlang.org/dev/dart-core/Map-class.html) ç±»å‹æ¥æ”¯æŒæ˜ å°„ã€‚

ä¸‹é¢æ˜¯å‡ ä¸ªç®€å•çš„ Dart æ˜ å°„ï¼Œä½¿ç”¨å­—é¢é‡åˆ›å»ºï¼š

```dart
var gifts = {
  // é”®:    å€¼
  'first': 'partridge',
  'second': 'turtledoves',
  'fifth': 'golden rings'
};

var nobleGases = {
  2: 'helium',
  10: 'neon',
  18: 'argon',
};
```

> æç¤ºï¼šåˆ†æå™¨æ¨æ–­å‡º **gifts** æ‹¥æœ‰ç±»å‹ **Map&lt;String, String&gt;**ï¼Œè€Œ **nobleGases** æ‹¥æœ‰ç±»å‹ **Map&lt;int, String&gt;**ã€‚å¦‚æœä½ è¯•å›¾æ·»åŠ é”™è¯¯çš„ç±»å‹åˆ°ä¸Šé¢çš„æ˜ å°„ä¸­ï¼Œåˆ†æå™¨æˆ–è€…è¿è¡Œæ—¶ä¼šæŠ¥å‘Šä¸€ä¸ªé”™è¯¯ã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·çœ‹ [ç±»å‹æ¨æ–­](#)ã€‚

ä½ å¯ä»¥é€šè¿‡æ˜ å°„çš„æ„é€ å‡½æ•°åˆ›å»ºåŒæ ·çš„å¯¹è±¡ï¼š

```dart
var gifts = Map();
gifts['first'] = 'partridge';
gifts['second'] = 'turtledoves';
gifts['fifth'] = 'golden rings';

var nobleGases = Map();
nobleGases[2] = 'helium';
nobleGases[10] = 'neon';
nobleGases[18] = 'argon';
```

> æç¤ºï¼šä½ å¯èƒ½å¯¹ **new Map()** è¿™æ ·çš„å½¢å¼ä¼šæ›´ç†Ÿæ‚‰ã€‚åœ¨ Dart 2 ä¸­ï¼Œå…³é”®å­— **new** æ˜¯å¯é€‰çš„ã€‚è¯¦æƒ…è¯·çœ‹ [ä½¿ç”¨æ„é€ å‡½æ•°](#)ã€‚

æ·»åŠ ä¸€ä¸ªæ–°çš„é”®å€¼å¯¹åˆ°å·²å­˜åœ¨çš„æ˜ å°„ï¼Œæ–¹æ³•å’Œ JavaScript ä¸€æ ·ï¼š

```dart
var gifts = {'first': 'partridge'};
gifts['fourth'] = 'calling birds'; // æ·»åŠ ä¸€ä¸ªé”®å€¼å¯¹
```

ä»æ˜ å°„ä¸­å–å¾—ä¸€ä¸ªå€¼ä¹Ÿå’Œ JavaScript çš„å†™æ³•ä¸€æ ·ï¼š

```dart
var gifts = {'first': 'partridge'};
assert(gifts['first'] == 'partridge');
```

å¦‚æœä½ æŸ¥æ‰¾ä¸€ä¸ªä¸å­˜åœ¨çš„é”®ï¼Œä¼šå¾—åˆ° nullï¼š

```dart
var gifts = {'first': 'partridge'};
assert(gifts['fifth'] == null);
```

ä½¿ç”¨ **.length** å»è·å¾—æ˜ å°„ä¸­é”®å€¼å¯¹çš„æ•°é‡ï¼š

```dart
var gifts = {'first': 'partridge'};
gifts['fourth'] = 'calling birds';
assert(gifts.length == 2);
```

è¦åˆ›å»ºä¸€ä¸ªä½œä¸ºç¼–è¯‘æœŸå¸¸é‡çš„æ˜ å°„ï¼Œåœ¨æ˜ å°„å­—é¢é‡å‰åŠ ä¸Š **const**ï¼š

```dart
final constantMap = const {
  2: 'helium',
  10: 'neon',
  18: 'argon',
};

// constantMap[2] = 'Helium'; // è¿™ä¸€è¡Œä¼šå¼•å‘ä¸€ä¸ªé”™è¯¯
```

è¦äº†è§£æ›´å¤šå…³äºæ˜ å°„çš„å†…å®¹ï¼Œè¯·çœ‹ [æ³›å‹](#) å’Œ [é›†åˆ](#)ã€‚

### ç¬¦æ–‡

åœ¨ Dart ä¸­ï¼Œç¬¦æ–‡ (rune) è¡¨ç¤ºå­—ç¬¦ä¸²ä¸­ UTF-32 ç¼–ç çš„ç ä½ã€‚

Unicode ä¸ºä¸–ç•Œä¸Šæ‰€æœ‰çš„ä¹¦å†™ç³»ç»Ÿä¸­çš„æ¯ä¸ªå­—æ¯ã€æ•°å­—å’Œç¬¦å·éƒ½å®šä¹‰äº†ä¸€ä¸ªå”¯ä¸€æ•°å€¼ã€‚å› ä¸º Dart çš„å­—ç¬¦ä¸²æ˜¯ UTF-16 ç ä½çš„åºåˆ—ï¼Œåœ¨å­—ç¬¦ä¸²ä¸­è¡¨ç¤º32ä½ Unicode å€¼éœ€è¦ç‰¹æ®Šçš„è¯­æ³•ã€‚

è¡¨ç¤ºä¸€ä¸ª Unicode ç ä½çš„é€šå¸¸æ–¹å¼æ˜¯ **\uXXXX**ï¼Œå…¶ä¸­ XXXX æ˜¯ä¸€ä¸ª4ä½16è¿›åˆ¶æ•°å­—ã€‚æ¯”å¦‚ï¼Œå¿ƒå½¢ç¬¦å· Â (â™¥)  è¡¨ç¤ºä¸º **\u2665**ã€‚è¦æŒ‡å®šå¤šäºæˆ–å°‘äº4ä½çš„16è¿›åˆ¶æ•°å­—ï¼Œå°†æ•°å­—æ”¾åˆ°èŠ±æ‹¬å·é‡Œã€‚æ¯”å¦‚ï¼Œå“ˆå“ˆç¬‘çš„ emoji Â (ğŸ˜†)  è¡¨ç¤ºä¸º **\u{1f600}**ã€‚

[å­—ç¬¦ä¸²](https://api.dartlang.org/dev/dart-core/String-class.html) ç±»ä¸­æœ‰å‡ ä¸ªå±æ€§å¯ä»¥ç”¨æ¥æå–ç¬¦æ–‡ä¿¡æ¯ã€‚**codeUnitAt** å’Œ **codeUnit** å±æ€§è¿”å›16ä½ç¼–ç å•å…ƒã€‚ä½¿ç”¨ **runes** å±æ€§æ¥è·å–ä¸€ä¸ªå­—ç¬¦ä¸²çš„ç¬¦æ–‡ã€‚

ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ç¬¦æ–‡ã€16ä½ç¼–ç å•å…ƒå’Œ32ä½ç¼–ç å•å…ƒçš„å…³ç³»ï¼š

```dart
main() {
  var clapping = '\u{1f44f}';
  print(clapping);
  print(clapping.codeUnits);
  print(clapping.runes.toList());

  Runes input = new Runes(
      '\u2665  \u{1f605}  \u{1f60e}  \u{1f47b}  \u{1f596}  \u{1f44d}');
  print(new String.fromCharCodes(input));
}
```

> æç¤ºï¼šè¯·è°¨æ…ä½¿ç”¨åˆ—è¡¨æ“ä½œæ¥å¤„ç†ç¬¦æ–‡ã€‚è¿™äº›æ–¹æ³•å¯èƒ½å¾ˆå®¹æ˜“å¤±æ•ˆï¼Œè€Œä¸”ä¾èµ–ç‰¹å®šçš„è¯­è¨€ã€å­—ç¬¦é›†å’Œå…·ä½“çš„æ“ä½œã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·çœ‹ Stack Overflow ä¸Šçš„ [How do I reverse a String in Dart?](http://stackoverflow.com/questions/21521729/how-do-i-reverse-a-string-in-dart) 

### ç¬¦å·

ä¸€ä¸ªç¬¦å· ([Symbols](https://api.dartlang.org/dev/dart-core/Symbol-class.html))  å¯¹è±¡è¡¨ç¤º Dart ç¨‹åºä¸­å·²å£°æ˜çš„æ“ä½œæˆ–æ ‡è¯†ã€‚ä½ å¯èƒ½æ°¸è¿œéƒ½ä¸éœ€è¦ç”¨åˆ°ç¬¦å·ï¼Œä½†æ˜¯å®ƒä»¬å¯¹äºé€šè¿‡åç§°æ¥æ ‡è¯†å¼•ç”¨çš„æ¥å£éå¸¸é‡è¦ï¼Œå› ä¸ºç¼©å†™æ”¹å˜æ ‡è¯†ç¬¦çš„åå­—ä½†ä¸æ”¹å˜æ ‡è¯†ç¬¦çš„ç¬¦å·ã€‚

è¦è·å–ä¸€ä¸ªæ ‡è¯†ç¬¦çš„ç¬¦å·ï¼Œä½¿ç”¨ç¬¦å·å­—é¢é‡ï¼Œè¯­æ³•æ˜¯ **#** åé¢è·Ÿä¸Šæ ‡è¯†ç¬¦ï¼š

```dart
#radix
#bar
```

ç¬¦å·å­—é¢é‡æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚

## å‡½æ•°

Dart æ˜¯ä¸€ä¸ªå®Œå…¨çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œæ‰€ä»¥ç”šè‡³è¿å‡½æ•°ä¹Ÿæ˜¯å¯¹è±¡ï¼Œè€Œä¸”æ‹¥æœ‰ä¸€ä¸ªç±»å‹ [Function](https://api.dartlang.org/dev/dart-core/Function-class.html)ã€‚è¿™æ„å‘³ç€å‡½æ•°å¯ä»¥è¢«èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œæˆ–è€…ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚ä½ å¯ä»¥å¯ä»¥æŠŠä¸€ä¸ª Dart  ç±»å®ä¾‹ä½œä¸ºå‡½æ•°æ¥è°ƒç”¨ï¼Œåªè¦å®ƒæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚è¯¦æƒ…è¯·çœ‹ [å¯è°ƒç”¨çš„ç±»](#)ã€‚

ä¸‹é¢çš„ä¾‹å­å±•ç¤ºå¦‚ä½•å®ç°ä¸€ä¸ªå‡½æ•°ï¼š

```dart
bool isNoble(int atomicNumber) {
  return _nobleGases[atomicNumber] != null;
}
```

å°½ç®¡ Effective Dart æ¨è [ä¸ºå…¬å…±APIæ·»åŠ ç±»å‹æ³¨é‡Š](https://www.dartlang.org/guides/language/effective-dart/design#prefer-type-annotating-public-fields-and-top-level-variables-if-the-type-isnt-obvious)ï¼Œä½†æ˜¯å¦‚æœä½ å¿½ç•¥äº†ç±»å‹ï¼Œå‡½æ•°ä¾ç„¶æ˜¯å¯ç”¨çš„ï¼š

```dart
isNoble(atomicNumber) {
  return _nobleGases[atomicNumber] != null;
}
```

å¯¹é‚£äº›åªåŒ…å«ä¸€ä¸ªè¡¨è¾¾å¼çš„å‡½æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨ç®€å†™çš„è¯­æ³•ï¼š

```dart
bool isNoble(int atomicNumber) => _nobleGases[atomicNumber] != null;
```

è¿™é‡Œçš„ **=> *expre*** è¯­æ³•æ˜¯ **{ return *expr*; }** çš„ç®€å†™ã€‚ç¬¦å· **=>** æœ‰æ—¶è¢«ç§°ä¸ºèƒ–ç®­å¤´è¯­æ³•ã€‚

> æç¤ºï¼šåªæœ‰å•ä¸ªè¡¨è¾¾å¼â€”â€”è€Œä¸æ˜¯è¯­å¥â€”â€”å¯ä»¥å‡ºç°åœ¨ç®­å¤´ (=>) å’Œ åˆ†å· (;) çš„ä¸­é—´ã€‚æ¯”å¦‚ï¼Œä½ ä¸å¯ä»¥æ”¾ [if è¯­å¥](#)ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ [æ¡ä»¶è¡¨è¾¾å¼](#)ã€‚

å‡½æ•°æœ‰ä¸¤ç§ç±»å‹çš„å‚æ•°ï¼šå¿…é¡»å‚æ•°å’Œå¯é€‰å‚æ•°ã€‚å¿…é¡»å‚æ•°åœ¨å‚æ•°åˆ—è¡¨çš„å‰é¢ï¼Œå¯é€‰å‚æ•°è·Ÿåœ¨åé¢ã€‚

### å¯é€‰å‚æ•°

å¯é€‰å‚æ•°å¯ä»¥æ˜¯ä½ç½®å‚æ•°æˆ–è€…å‘½åå‚æ•°ï¼Œä½†ä¸å¯ä»¥ä¸¤è€…å…¼æ˜¯ã€‚

#### å¯é€‰å‘½åå‚æ•°

å½“è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä½ å¯ä»¥é€šè¿‡ *å‚æ•°å: å‚æ•°å€¼* çš„æ ¼å¼æŒ‡å®šå‘½åå‚æ•°ã€‚æ¯”å¦‚ï¼š

```dart
enableFlags(bold: true, hidden: false);
```

å½“å®šä¹‰ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä½¿ç”¨ *{å‚æ•°1, å‚æ•°2, ...}* çš„æ ¼å¼æ¥æŒ‡å®šå‘½åå‚æ•°ï¼š

```dart
/// è®¾ç½®å¯é€‰çš„"åŠ ç²—â€å’Œâ€œéšè—â€æ ‡å¿—
void enableFlags({bool bold, bool hidden}) {
  // ...
}
```

#### å¯é€‰ä½ç½®å‚æ•°

åŒ…è£¹å‡½æ•°çš„å‚æ•°é›†åˆ° **[]** ä¸­æ¥è¡¨æ˜å®ƒä»¬æ˜¯å¯é€‰å‚æ•°ï¼š

```dart
String say(String from, String msg, [String device]) {
  var result = '$from says $msg';
  if (device != null) {
    result = '$result with a $device';
  }
  return result;
}
```

ä¸‹é¢çš„ä¾‹å­å±•ç¤ºè°ƒç”¨è¯¥å‡½æ•°æ—¶ä¸å¸¦å¯é€‰å‚æ•°ï¼š

```dart
assert(say('Bob', 'Howdy') == 'Bob says Howdy');
```

ä¸‹é¢çš„ä¾‹å­å±•ç¤ºè°ƒç”¨è¯¥å‡½æ•°æ—¶å¸¦ä¸Šç¬¬ä¸‰ä¸ªå‚æ•°ï¼š

```dart
assert(say('Bob', 'Howdy', 'smoke signal') ==
    'Bob says Howdy with a smoke signal');
```

#### å‚æ•°é»˜è®¤å€¼

ä½ å¯ä»¥ä½¿ç”¨ **=** æ¥ä¸ºå‡½æ•°å‚æ•°å®šä¹‰é»˜è®¤å€¼ï¼Œå¯é€‚ç”¨äºå‘½åå‚æ•°å’Œä½ç½®å‚æ•°ã€‚é»˜è®¤å€¼å¿…é¡»æ˜¯ç¼–è¯‘æœŸå¸¸é‡ã€‚å¦‚æœæ²¡æœ‰æä¾›é»˜è®¤å€¼ï¼Œé»˜è®¤å€¼ä¾¿æ˜¯ **null**ã€‚

ä¸‹é¢çš„ä¾‹å­å±•ç¤ºä¸ºå‘½åå‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼š

```dart
/// è®¾ç½®å¯é€‰çš„â€œåŠ ç²—â€å’Œâ€œéšè—â€æ ‡å¿—
void enableFlags({bool bold = false, bool hidden = false}) {
  // ...
}

// â€œåŠ ç²—â€å°†ä¼šæ˜¯trueï¼Œéšè—å°†ä¼šæ˜¯false
enableFlags(bold: true);
```

> å¼ƒç”¨æç¤ºï¼šä»¥å‰çš„ä»£ç å¯èƒ½ä¼šä½¿ç”¨å†’å· (:) è€Œä¸æ˜¯ = æ¥è®¾ç½®å‘½åå‚æ•°çš„é»˜è®¤å€¼ã€‚åŸå› æ˜¯ä¹‹å‰åªæœ‰ : å¯ä»¥ç”¨æ¥ç»™å‘½åå‚æ•°è®¾ç½®é»˜è®¤å€¼ã€‚è€Œç°åœ¨å¯¹ = çš„æ”¯æŒå¯èƒ½ä¼šè¢«åºŸå¼ƒï¼Œæ‰€ä»¥æˆ‘ä»¬æ¨èä½  [ä½¿ç”¨ = æ¥æŒ‡å®šé»˜è®¤å€¼](https://www.dartlang.org/tools/pub/pubspec#sdk-constraints)ã€‚

ä¸‹ä¸€ä¸ªä¾‹å­å±•ç¤ºå¦‚æœä¸ºä½ç½®å‚æ•°è®¾ç½®é»˜è®¤å€¼ï¼š

```dart
String say(String from, String msg,
    [String device = 'carrier pigeon', String mood]) {
  var result = '$from says $msg';
  if (device != null) {
    result = '$result with a $device';
  }
  if (mood != null) {
    result = '$result (in a $mood mood)';
  }
  return result;
}

assert(say('Bob', 'Howdy') ==
    'Bob says Howdy with a carrier pigeon');
```

ä½ æœ‰å¯ä»¥ä½¿ç”¨åˆ—è¡¨æˆ–è€…æ˜ å°„ä½œä¸ºé»˜è®¤å€¼ã€‚ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªå‡½æ•° **doStuff()**ï¼Œå®ƒä¸ºå‚æ•° **list** æŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤çš„åˆ—è¡¨ï¼Œä¸ºå‚æ•° **gifts** æŒ‡å®šäº†ä¸€ä¸ªé»˜è®¤çš„æ˜ å°„ã€‚

```dart
void doStuff(
    {List<int> list = const [1, 2, 3],
    Map<String, String> gifts = const {
      'first': 'paper',
      'second': 'cotton',
      'third': 'leather'
    }}) {
  print('list:  $list');
  print('gifts: $gifts');
}
```

### main() å‡½æ•°

æ¯ä¸€ä¸ªåº”ç”¨éƒ½æœ‰ä¸€ä¸ªé¡¶çº§çš„ **main()** å‡½æ•°ä½œä¸ºè¿™ä¸ªåº”ç”¨çš„å…¥å£ã€‚**main()** å‡½æ•°è¿”å› **void** è€Œä¸”æœ‰ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œç±»å‹ä¸º **List&lt;String&gt;**ã€‚

ä¸‹é¢çš„ä¾‹å­æ˜¯ web app é‡Œé¢çš„ **main()** å‡½æ•°ï¼š

```dart
void main() {
  querySelector('#sample_text_id')
    ..text = 'Click me!'
    ..onClick.listen(reverseText);
}
```

> æç¤ºï¼šä¸Šé¢ä»£ç ä¸­çš„ .. è¯­æ³•è¢«ç§°ä½œ [çº§è”](#)ã€‚ä½¿ç”¨çº§è”ï¼Œä½ å¯ä»¥åœ¨ä¸€ä¸ªå•ä¸ªå¯¹è±¡çš„æˆå‘˜ä¸Šè¿›è¡Œå¤šæ¬¡çš„æ“ä½œã€‚

ä¸‹é¢çš„ä¾‹å­æ˜¯å‘½ä»¤è¡Œç¨‹åºä¸­çš„ **main()** å‡½æ•°ï¼Œå®ƒæ¥å—å‘½ä»¤è¡Œå‚æ•°ï¼š

```dart
// åƒè¿™æ ·è¿è¡Œè¯¥ç¨‹åºï¼šdart args.dart 1 test
void main(List<String> arguments) {
  print(arguments);

  assert(arguments.length == 2);
  assert(int.parse(arguments[0]) == 1);
  assert(arguments[1] == 'test');
}
```

ä½ å¯ä»¥ä½¿ç”¨ [args åº“](https://pub.dartlang.org/packages/args) æ¥å®šä¹‰å’Œè§£æå‘½ä»¤è¡Œå‚æ•°ã€‚

### å‡½æ•°ä½œä¸ºä¸€ç­‰å¯¹è±¡

ä½ å¯ä»¥æŠŠå‡½æ•°ä½œä¸ºå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ã€‚æ¯”å¦‚ï¼š

```dart
void printElement(int element) {
  print(element);
}

var list = [1, 2, 3];

// æŠŠ printElement ä½œä¸ºå‚æ•°
list.forEach(printElement);
```

ä½ å¯ä»¥å¯ä»¥æŠŠå‡½æ•°èµ‹å€¼ä¸ºä¸€ä¸ªå˜é‡ï¼Œæ¯”å¦‚ï¼›

```dart
var loudify = (msg) => '!!! ${msg.toUpperCase()} !!!';
assert(loudify('hello') == '!!! HELLO !!!');
```

è¿™ä¸ªä¾‹å­ä½¿ç”¨äº†åŒ¿åå‡½æ•°ã€‚ä¸‹ä¸€èŠ‚ä¼šè¯¦ç»†è®²è§£åŒ¿åå‡½æ•°ã€‚

### åŒ¿åå‡½æ•°

å¤§éƒ¨åˆ†å‡½æ•°éƒ½æœ‰ä¸€ä¸ªåå­—ï¼Œæ¯”å¦‚ **main()** æˆ–è€… **printElement()**ã€‚ä½ ä¹Ÿå¯ä»¥åˆ›å»ºæ— åå‡½æ•°ï¼Œå®ƒä»¬å«åšâ€œåŒ¿åå‡½æ•°â€ï¼Œæœ‰æ—¶ä¹Ÿè¢«ç§°ä¸º "lambda" æˆ–è€… "é—­åŒ…"ã€‚ä½ å¯èƒ½ä¼šå°†åŒ¿åå‡½æ•°èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œä»¥ä¾¿åç»­ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼Œä½ å¯ä»¥å°†å®ƒæ·»åŠ åˆ°ä¸€ä¸ªé›†åˆï¼Œæˆ–è€…ä»é›†åˆç§»é™¤ã€‚

åŒ¿åå‡½æ•°çœ‹èµ·æ¥å°±åƒä¸€ä¸ªå‘½åå‡½æ•°â€”â€”æ‹¬å·ä¸­0ä¸ªæˆ–å¤šä¸ªå‚æ•°ã€é€—å·éš”å¼€ã€å¯é€‰çš„ç±»å‹æ³¨é‡Šã€‚

ä¹‹åçš„ä»£ç å—åŒ…å«äº†å‡½æ•°çš„ä¸»ä½“ï¼š

```
([[Type] param1[, â€¦]]) { 
  codeBlock; 
}; 
```

ä¸‹é¢çš„ä¾‹å­å®šä¹‰äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼ŒåŒ…å«ä¸€ä¸ªæ— ç±»å‹çš„å‚æ•° **item**ã€‚è¿™ä¸ªå‡½æ•°ä¼šä»åˆ—è¡¨ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ è°ƒç”¨ï¼Œæ‰“å°ä¸€ä¸ªåŒ…å«äº†åœ¨æŒ‡å®šç´¢å¼•å¤„çš„å€¼çš„å­—ç¬¦ä¸²ã€‚

```dart
var list = ['apples', 'bananas', 'oranges'];
list.forEach((item) {
  print('${list.indexOf(item)}: $item');
});
```

å¦‚æœè¿™ä¸ªå‡½æ•°åªåŒ…å«ä¸€ä¸ªè¯­å¥ï¼Œä½ å¯ä»¥ä½¿ç”¨ç®­å¤´ç¬¦å·ç®€åŒ–å®ƒï¼Œå®ƒä»¬çš„æ•ˆæœæ˜¯ç›¸åŒçš„ï¼š

```dart
list.forEach(
    (item) => print('${list.indexOf(item)}: $item'));
```

### è¯æ³•ä½œç”¨åŸŸ 

Dart æ˜¯è¯æ³•ä½œç”¨åŸŸè¯­è¨€ï¼Œæ„å‘³ç€å˜é‡çš„ä½œç”¨åŸŸæ˜¯é™æ€ç¡®å®šçš„ï¼Œç®€å•åœ°é€šè¿‡ä»£ç çš„å¸ƒå±€æ¥ç¡®å®šã€‚ä½ å¯ä»¥â€æ²¿ç€èŠ±æ‹¬å·å‘å¤–èµ°â€œæ¥çœ‹æ˜¯å¦ä¸€ä¸ªå˜é‡åœ¨ä½œç”¨åŸŸä¸­ã€‚

ä¸‹é¢æ˜¯ä¸€ä¸ªåµŒå¥—å‡½æ•°çš„ä¾‹å­ï¼Œå®ƒåŒ…å«äº†å„ä¸ªå±‚çº§çš„ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼š

```dart
bool topLevel = true;

void main() {
  var insideMain = true;

  void myFunction() {
    var insideFunction = true;

    void nestedFunction() {
      var insideNestedFunction = true;

      assert(topLevel);
      assert(insideMain);
      assert(insideFunction);
      assert(insideNestedFunction);
    }
  }
}
```

æ³¨æ„ **nestedFunction()** å¯ä»¥ä½¿ç”¨å„ä¸ªå±‚çº§çš„å˜é‡ï¼Œä¸€ç›´åˆ°æœ€å¤–å±‚ã€‚

### è¯æ³•é—­åŒ…

â€é—­åŒ…â€œæŒ‡å¯ä»¥è®¿é—®è¯æ³•ä½œç”¨åŸŸä¸­å˜é‡çš„ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œå³ä½¿è¿™ä¸ªå‡½æ•°æ˜¯åœ¨å®ƒåŸæœ¬ä½œç”¨åŸŸçš„å¤–éƒ¨è¢«ä½¿ç”¨çš„ã€‚

å‡½æ•°å¯ä»¥å…³é—­å®šä¹‰åœ¨å®ƒå‘¨å›´ä½œç”¨åŸŸä¸­çš„å˜é‡ã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œ**makeAdder()** æ•è·äº†å˜é‡ **addBy**ã€‚æ— è®ºè¿”å›çš„å‡½æ•°åˆ°å“ªå„¿ï¼Œå®ƒéƒ½è®°å¾— **addBy**ã€‚

```dart
/// è¿”å›ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä¼šæ·»åŠ  "addBy" åˆ°
/// è¿™ä¸ªå‡½æ•°çš„å‚æ•°ä¸Šå¹¶è¿”å›
Function makeAdder(num addBy) {
  return (num i) => addBy + i;
}

void main() {
  // åˆ›å»ºä¸€ä¸ªåŠ 2çš„å‡½æ•°
  var add2 = makeAdder(2);

  // åˆ›å»ºä¸€ä¸ªåŠ 4çš„å‡½æ•°
  var add4 = makeAdder(4);

  assert(add2(3) == 5);
  assert(add4(3) == 7);
}
```

### éªŒè¯å‡½æ•°çš„ç›¸ç­‰æ€§

ä¸‹é¢çš„ä¾‹å­éªŒè¯äº†é¡¶çº§å‡½æ•°ã€é™æ€å‡½æ•°å’Œå®ä¾‹æ–¹æ³•çš„ç›¸ç­‰æ€§ï¼š

```dart
void foo() {} // ä¸€ä¸ªé¡¶çº§å‡½æ•°

class A {
  static void bar() {} // ä¸€ä¸ªé™æ€å‡½æ•°
  void baz() {} // ä¸€ä¸ªå®ä¾‹æ–¹æ³•
}

void main() {
  var x;

  // æ¯”è¾ƒé¡¶çº§å‡½æ•°
  x = foo;
  assert(foo == x);

  // æ¯”è¾ƒé™æ€å‡½æ•°
  x = A.bar;
  assert(A.bar == x);

  // æ¯”è¾ƒå®ä¾‹æ–¹æ³•
  var v = A(); // Instance #1 of A
  var w = A(); // Instance #2 of A
  var y = w;
  x = w.baz;

  // é—­åŒ…æŒ‡å‘åŒä¸€ä¸ªå®ä¾‹ï¼Œ
  // å› æ­¤å®ƒä»¬æ˜¯ç›¸ç­‰çš„
  assert(y.baz == x);

  // é—­åŒ…æŒ‡å‘ä¸åŒçš„å®ä¾‹ï¼Œ
  // å› æ­¤å®ƒä»¬æ˜¯ä¸ç›¸ç­‰çš„
  assert(v.baz != w.baz);
}
```

### è¿”å›å€¼

æ‰€æœ‰å‡½æ•°éƒ½æœ‰è¿”å›å€¼ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®šè¿”å›å€¼ï¼Œé‚£ä¹ˆè¯­å¥ **return null;** ä¼šè¢«éšå¼åœ°åŠ åˆ°å‡½æ•°ä½“ä¸Šï¼š

```dart
foo() {}

assert(foo() == null);
```

